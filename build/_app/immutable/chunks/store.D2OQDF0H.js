import{Q as m,I as V,R as D,T as L,V as y,W as b,X as N,Y as O,p as l,Z as Y,_ as H,$,J as k,a0 as C,a1 as M,a2 as W,k as j,q,m as w,e as B,t as J,A as P,n as E,B as Q,N as X,a3 as Z,d as z,c as F}from"./runtime.DnMJG9Od.js";import{a as G,r as A,h}from"./events.alHebq7v.js";import{b as K}from"./disclose-version.CNf-3iWM.js";const U=["touchstart","touchmove"];function x(e){return U.includes(e)}function ae(e,t){var r=t==null?"":typeof t=="object"?t+"":t;r!==(e.__t??(e.__t=e.nodeValue))&&(e.__t=r,e.nodeValue=r==null?"":r+"")}function ee(e,t){return I(e,t)}function ie(e,t){m(),t.intro=t.intro??!1;const r=t.target,s=w,o=l;try{for(var n=V(r);n&&(n.nodeType!==8||n.data!==D);)n=L(n);if(!n)throw y;b(!0),N(n),O();const f=I(e,{...t,anchor:n});if(l===null||l.nodeType!==8||l.data!==Y)throw H(),y;return b(!1),f}catch(f){if(f===y)return t.recover===!1&&$(),m(),k(r),b(!1),ee(e,t);throw f}finally{b(s),N(o)}}const d=new Map;function I(e,{target:t,anchor:r,props:s={},events:o,context:n,intro:f=!0}){m();var g=new Set,p=u=>{for(var a=0;a<u.length;a++){var i=u[a];if(!g.has(i)){g.add(i);var c=x(i);t.addEventListener(i,h,{passive:c});var R=d.get(i);R===void 0?(document.addEventListener(i,h,{passive:c}),d.set(i,1)):d.set(i,R+1)}}};p(C(G)),A.add(p);var _=void 0,S=M(()=>{var u=r??t.appendChild(W());return j(()=>{if(n){q({});var a=P;a.c=n}o&&(s.$$events=o),w&&K(u,null),_=e(u,s)||{},w&&(B.nodes_end=l),n&&J()}),()=>{var c;for(var a of g){t.removeEventListener(a,h);var i=d.get(a);--i===0?(document.removeEventListener(a,h),d.delete(a)):d.set(a,i)}A.delete(p),T.delete(_),u!==r&&((c=u.parentNode)==null||c.removeChild(u))}});return T.set(_,S),_}let T=new WeakMap;function ue(e){const t=T.get(e);t&&t()}function te(e,t,r){if(e==null)return t(void 0),E;const s=Q(()=>e.subscribe(t,r));return s.unsubscribe?()=>s.unsubscribe():s}let v=!1;function oe(e,t,r){const s=r[t]??(r[t]={store:null,source:Z(void 0),unsubscribe:E});if(s.store!==e)if(s.unsubscribe(),s.store=e??null,e==null)s.source.v=void 0,s.unsubscribe=E;else{var o=!0;s.unsubscribe=te(e,n=>{o?s.source.v=n:F(s.source,n)}),o=!1}return z(s.source)}function de(){const e={};return X(()=>{for(var t in e)e[t].unsubscribe()}),e}function fe(e){var t=v;try{return v=!1,[e(),v]}finally{v=t}}export{ae as a,oe as b,fe as c,ie as h,ee as m,de as s,ue as u};
